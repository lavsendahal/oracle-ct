# @package _global_

# MaskedUnaryAttnScalar experiment: OracleCT_DINOv3_MaskedUnaryAttnScalar
# Organ-guided masked attention + direct scalar fusion (TriageNet-style)
#
# Architecture:
#   visual [B, D] + scalars [B, S]  →  cat [B, D+S]
#   → LayerNorm → Linear(D+S → scalar_hidden) → ReLU → Linear(scalar_hidden → 1)
#
# Scalars: mean_hu + to_body_ratio + touches_border per organ (minimal parquet)

model:
  name: OracleCT_DINOv3_MaskedUnaryAttnScalar
  num_diseases: 30
  disease_names: null
  variant: B  # S (small), B (base), or L (large)
  image_size: 224
  tri_stride: 1
  freeze_backbone: false
  use_gradient_checkpointing: true
  scalar_hidden: 256          # fusion MLP hidden dim
  feature_stats_path: ${paths.feature_stats}

training:
  max_epochs: 20

logging:
  use_wandb: false
